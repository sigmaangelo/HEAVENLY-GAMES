<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Cloaked Entry Fullscreen</title>
<style>
  body {
    display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; font-family: Arial, sans-serif;
    background: #0d0d0d; color: white;
  }

  .box {
    background: #1a1a1a;
    padding: 30px;
    border-radius: 12px;
    width: 300px;
    text-align: center;
    box-shadow: 0 0 20px rgba(0,0,0,0.5);
    border: 1px solid #333;
  }

  input {
    width: 90%;
    padding: 12px;
    margin-top: 10px;
    border-radius: 8px;
    border: none;
    background: #333;
    color: white;
    font-size: 16px;
    outline: none;
  }

  button {
    margin-top: 15px;
    padding: 12px 20px;
    width: 100%;
    background: #4caf50;
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    cursor: pointer;
    transition: 0.2s;
  }

  button:hover { background: #43a047; }
  #msg { margin-top: 10px; color: #ff5252; font-size: 14px; }
</style>
</head>
<body>

<div class="box">
  <h2>Enter Password</h2>
  <input id="pass" type="password" />
  <button id="enterBtn">Enter</button>
  <p id="msg"></p>
</div>

<script>
const PASSWORD = "ᎤᏇᏕ1Ꮭ0ᎧᏰᎧᎥᏬᎩᏖᏒᎴ";

// Function to handle correct password
async function login() {
    const entered = document.getElementById('pass').value;
    if (entered !== PASSWORD) {
        document.getElementById('msg').innerText = "Wrong password";
        return;
    }

    // Open main content in new fullscreen tab
    const g = window.open("about:blank", "_blank");
    g.document.write(`
      <style>
        html, body { margin:0; height:100%; }
        iframe { position:fixed; top:0; left:0; width:100%; height:100%; border:none; }
      </style>
      <iframe src="/home.html"></iframe>
    `);
    g.document.close();
    window.close(); // Close cloak tab
}

// Attach login to button
document.getElementById("enterBtn").addEventListener("click", login);

// Fullscreen request function
async function goFullscreen() {
    const elem = document.documentElement;
    if (elem.requestFullscreen) {
        await elem.requestFullscreen();
    } else if (elem.webkitRequestFullscreen) {
        await elem.webkitRequestFullscreen();
    } else if (elem.msRequestFullscreen) {
        await elem.msRequestFullscreen();
    }
}

// Auto-close tab if fullscreen is exited
function handleFullscreenChange() {
    const isFullscreen = document.fullscreenElement || document.webkitFullscreenElement || document.msFullscreenElement;
    if (!isFullscreen) {
        window.close(); // Close the tab immediately
    }
}

// Events for fullscreen exit
document.addEventListener('fullscreenchange', handleFullscreenChange);
document.addEventListener('webkitfullscreenchange', handleFullscreenChange);
document.addEventListener('MSFullscreenChange', handleFullscreenChange);

// Enter fullscreen on load
window.onload = goFullscreen;
</script>

</body>
</html>
